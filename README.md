# Nym validator

The Nym validator is a blockchain application. It maintains a token called `nym`, which can be used for staking on mixnodes in the [Nym network](https://nymtech.net/).

## Building 

The validator has been built using [Cosmos SDK](https://cosmos.network) and [Tendermint](https://tendermint.com), generated by [Starport](https://github.com/tendermint/starport).

To set it up, build the validator node and cli:

```
git clone https://github.com/nymtech/nym-validator/
cd nym-validator
git checkout v0.9.0-pre1
mkdir build
go build -mod=mod -o build/nymd ./cmd/nymd
go build -mod=mod -o build/nymcli ./cmd/nymcli
```

These commands will produce two binaries (`nymd` and `nymcli`) in the `build` directory. Copy both of them up to your server.

## Single node setup

Next, generate the initial chain setup:

```
./nymd init your-node-name --chain-id nym-testnet-chain
./nymcli keys add validator-key
./nymcli keys show validator-key
./nymd add-genesis-account $(./nymcli keys show validator-key -a) 1000000000nym,1000000000stake
./nymd gentx --name validator-key --amount 10000000stake
./nymd  collect-gentxs
```

Lastly, start the chain and REST API:

```
./nymd start
./nymcli rest-server --chain-id qa-chain
```

At this point, you'll be running a single-node validator with a REST API on http://localhost:8081/swagger/index.html, a different (Cosmos) REST API on http://localhost:1317. These two will be merged in the next release. First we want to get the validators and mixnet running, then we'll join them together once all the node types are working :).

## Testnet setup

Before joining the testnet, please ensure that you can successfully get the single-node setup (above) working. 

Once you've got that going, contact us in KeyBase and we discuss how you can participate in the next setup ceremony. 

## Developing

If you are a Nym developer, you can run a development setup as follows.

First, start up all the Starport components (including the user interface) like so:


```
starport serve
```

`serve` command installs dependencies, initializes and runs the application.

## Configure

Initialization parameters of your app are stored in `config.yml`.

### `accounts`

A list of user accounts created during genesis of your application.

| Key   | Required | Type            | Description                                       |
| ----- | -------- | --------------- | ------------------------------------------------- |
| name  | Y        | String          | Local name of the key pair                        |
| coins | Y        | List of Strings | Initial coins with denominations (e.g. "100coin") |

## Learn more

- [Starport](https://github.com/tendermint/starport)
- [Cosmos SDK documentation](https://docs.cosmos.network)
- [Cosmos Tutorials](https://tutorials.cosmos.network)
- [Channel on Discord](https://discord.gg/W8trcGV)


